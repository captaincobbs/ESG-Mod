<?xml version="1.0" encoding="utf-8" ?>
<Datatable xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xsi:noNamespaceSchemaLocation="../Schemas/EntityActionDefinition.xsd">
  <!-- Vodyani Succ -->
  <EmpireDiplomacyGiveResourcesAction Name="EmpireDiplomaticEssenceAction" PopulationToDestroyCount="1">
    <PathPrerequisite Flags="Prerequisite,Discard">ClassEmpire,AffinityGameplayVampirilis</PathPrerequisite>
    <InterpreterPrerequisite Flags="Disable">Property(Context,@ClassEmpire,EmpireLifeforceStock) lt Property(Context,@ClassEmpire,MaximumEmpireLifeforceStock)</InterpreterPrerequisite>

    <MinorLuxuryCost Instant="true">15 * Property(StockLocation,@ClassEmpire,DiplomacyCostReduction) * Property(StockLocation,@ClassEmpire,PeacefulTreatyCostReduction)</MinorLuxuryCost>

    <StatePrerequisite Inverted="true" Flags="Prerequisite,Discard" Hidden="true" State="DiplomaticRelationStateMinorUnknown"/>
    <RelationPathPrerequisite Inverted="false" Flags="Prerequisite,Discard">ClassMinorRelationWithMajor,RelationIdeologyMinorPacifist</RelationPathPrerequisite>

    <MinorEmpireInterpreterPrerequisite Flags="Prerequisite,RequiredBestRelation">$(OwnershipType) ge 1 and $(IsOwner) eq 1</MinorEmpireInterpreterPrerequisite>
    <MinorEmpireInterpreterPrerequisite Flags="NoPopulationOnSystem">Property(Context, @'ClassEmpire/ClassColonizedStarSystem,MinorHomeSystem',Population,true) gt 1</MinorEmpireInterpreterPrerequisite>

    <PopulationEventOnSelf>PopulationPoliticalEventMinorEssence</PopulationEventOnSelf>

    <ResourceReward ResourceName="EmpireLifeforce">300</ResourceReward>
  </EmpireDiplomacyGiveResourcesAction>

  <!-- Vodyani Leech -->
  <TransferResourcesFleetAction Name="TransferResourcesInFleetAction" Flags="CancelOnMovement,CancelOnTransfer">
    <EntityPrerequisites Location="Self">
      <PathPrerequisite Flags="Discard">../ClassEmpire,AffinityGameplayVampirilis</PathPrerequisite>
      <PathPrerequisite Flags="Discard" Inverted="false">ClassGarrison/ClassShip/ClassSection/ClassModule,ModuleLogistics</PathPrerequisite>
      <PathPrerequisite Inverted="true" Flags="EncounterInProgress">FleetActionAttack</PathPrerequisite>
      <PathPrerequisite Inverted="true" Flags="FleetIsBusy">FleetActionExpedition</PathPrerequisite>
      <PathPrerequisite Inverted="true" Flags="FleetIsBusy">FleetActionColonize</PathPrerequisite>
      <PathPrerequisite Inverted="true" Flags="FleetIsBusy">FleetActionReclaimMothership</PathPrerequisite>
      <PathPrerequisite Inverted="true" Flags="FleetIsBusy">FleetActionGroundBattle</PathPrerequisite>
      <PathPrerequisite Inverted="true" Flags="Prerequisite,FleetInvisibleGeneral">InvisibilityFleetAction</PathPrerequisite>
    </EntityPrerequisites>
    <EntityPrerequisites Filter="OtherEmpire" Location="OrbitEntities">
      <InterpreterPrerequisite Flags="Prerequisite,SystemResourcesEmpty">Path(Context, @'ClassColonizedStarSystem,ColonizedStarSystemStateOutpost') or Path(Context, @'ClassColonizedStarSystem,ColonizedStarSystemStateLost') or Property(Context, @'ClassColonizedStarSystem', Population, true) ge 1 </InterpreterPrerequisite>
    </EntityPrerequisites>
    <EntityPrerequisites Location="OrbitEntities">
      <PathPrerequisite Inverted="true" Flags="CannotBeInvaded">CannotBeInvaded</PathPrerequisite>
    </EntityPrerequisites>
    <EntityModifiers Location="Self">
      <SimulationAlteration DescriptorReference="FleetActionLogistics"/>
      <SimulationAlteration DescriptorReference="FleetActionBusy"/>
      <SimulationAlteration DescriptorReference="FleetActionHeroLocked"/>
    </EntityModifiers>
    <CancelActions Flags="CancelOnTransfer" SameContext="false" SameInitiator="true"/>
    <StartEventName>NotificationAbductionStarted</StartEventName>
    <StockEmptyEventName>NotificationAbductionStockEmpty</StockEmptyEventName>
    <FleetPopulationEventName>PopulationPoliticalEventFleetAbducting</FleetPopulationEventName>
    <SystemPopulationEventName>PopulationPoliticalEventPopulationAbducted</SystemPopulationEventName>
  </TransferResourcesFleetAction>

  <!--  Colonize  -->
  <ColonizeFleetAction Name="ColonizeFleetAction" FeedbackDuration="1.5" DelayAfterFeedback="1">
    <EntityPrerequisites Location="Self">
      <PathPrerequisite Flags="Prerequisite,NeedColonizationModule,Discard">ClassGarrisonFleet/ClassShip/ClassSection/ClassModule,ModuleSupportColonization</PathPrerequisite>
      <InterpreterPrerequisite Flags="Prerequisite,Disable,CannotColonizeUnderEnemyInfluence">not(Path(Context, @'FleetInfluenceStateHostile')) or Path(Context, @'./ClassEmpire/ClassSenate/LawP05L05Effect')</InterpreterPrerequisite>
      <PathPrerequisite Inverted="true" Flags="EncounterInProgress">FleetActionAttack</PathPrerequisite>
      <PathPrerequisite Inverted="true" Flags="IsCollectingRelics">FleetActionCollectingRelics</PathPrerequisite>
    </EntityPrerequisites>
    <EntityModifiers Location="Self">
      <SimulationAlteration DescriptorReference="FleetActionColonize"/>
      <SimulationAlteration DescriptorReference="FleetActionBusy"/>
      <SimulationAlteration DescriptorReference="FleetActionHeroLocked"/>
    </EntityModifiers>
    <CancelActions Flags="CancelOnAnything,CancelOnGuard" SameContext="true" SameInitiator="false" SameNodeAndOnAllEmpires="true"/>
  </ColonizeFleetAction>

  <!--  Colonize as Vaulters  -->
  <SuperColonizeFleetAction Name="SuperColonizeFleetAction" FeedbackDuration="1.5" DelayAfterFeedback="1" PropertyToReset="TurnsSinceSuperColonization">
  <EntityPrerequisites Location="Self">
    <PathPrerequisite Flags="Prerequisite,Discard">ClassGarrisonFleet/ClassShip,ShipRoleSuperColonizer</PathPrerequisite>
    <InterpreterPrerequisite Flags="CannotColonizeUnderEnemyInfluence">not(Path(Context, @'FleetInfluenceStateHostile')) or Path(Context, @'./ClassEmpire/ClassSenate/LawP05L05Effect')</InterpreterPrerequisite>
    <PathPrerequisite Inverted="true" Flags="EncounterInProgress">FleetActionAttack</PathPrerequisite>
  </EntityPrerequisites>
  <EntityModifiers Location="Self">
    <SimulationAlteration DescriptorReference="FleetActionColonize"/>
    <SimulationAlteration DescriptorReference="FleetActionBusy"/>
    <SimulationAlteration DescriptorReference="FleetActionHeroLocked"/>
  </EntityModifiers>
  <CustomCost Instant="true" ResourceName="EmpireMoney">Property(Context,@'../ClassEmpire',SuperColonizationCost)</CustomCost>
  <CustomCost Instant="true" ResourceName="Strategic1">Property(Context,@'../ClassEmpire',SuperColonizationCost) * Property(Context,@'../ClassEmpire',SuperColonizationStrategicCostFraction) / Property(Context,@'../ClassEmpire',DustInflation)</CustomCost>
  <CustomCost Instant="true" ResourceName="Strategic2">Property(Context,@'../ClassEmpire',SuperColonizationCost) * Property(Context,@'../ClassEmpire',SuperColonizationStrategicCostFraction) / Property(Context,@'../ClassEmpire',DustInflation)</CustomCost>
  <CancelActions Flags="CancelOnAnything,CancelOnGuard" SameContext="true" SameInitiator="false" SameNodeAndOnAllEmpires="true"/>
  <TemporaryEffect Name="GoldenAge" DurationProperty="SuperColonizationGoldenAgeDuration"/>
  </SuperColonizeFleetAction>

  <!-- Juggernaut Ion Wave -->
  <FireIonWaveFleetAction Name="FireIonWaveFleetAction" DamageRatio="1" Duration="3" Cooldown="15">
    <EntityPrerequisites Location="Self">
      <PathPrerequisite                 Flags="Discard">ClassGarrisonFleet/ShipRoleBattleship</PathPrerequisite>

      <PathPrerequisite Inverted="true" Flags="EncounterInProgress">FleetActionAttack</PathPrerequisite>
      <PathPrerequisite Inverted="true" Flags="FleetIsBusy">FleetActionGroundBattle</PathPrerequisite>
      <PathPrerequisite Inverted="true" Flags="IsCollectingRelics">FleetActionCollectingRelics</PathPrerequisite>
    </EntityPrerequisites>
    
    <CustomCost Instant="true" ResourceName="Strategic3">Property(Context,@'ClassGarrison/ClassShip,ShipRoleBattleship',JuggernautShotCost)</CustomCost>
    <CustomCost Instant="true" ResourceName="Strategic4">Property(Context,@'ClassGarrison/ClassShip,ShipRoleBattleship',JuggernautShotCost)</CustomCost>
    <CustomCost Instant="true" ResourceName="Strategic5">Property(Context,@'ClassGarrison/ClassShip,ShipRoleBattleship',JuggernautShotCost)</CustomCost>
    <CustomCost Instant="true" ResourceName="Strategic6">Property(Context,@'ClassGarrison/ClassShip,ShipRoleBattleship',JuggernautShotCost)</CustomCost>

    <TechnologyPrerequisite Flags="Prerequisite,Discard">TechnologyJuggernautBattleshipAbility</TechnologyPrerequisite>
    <DownloadableContentPrerequisite Flags="Discard">DLCHisshos</DownloadableContentPrerequisite>
    <BattleshipSimulationDescriptorReference Name="ShipWeaponsDeactivated"/>
    
  </FireIonWaveFleetAction>

  <!-- Cloaking -->
  <InvisibilityFleetAction Name="InvisibilityFleetAction">
    <EntityPrerequisites Location="Self">
      <InterpreterPrerequisite Flags="Prerequisite,Discard,CheckedOnFleetSpawn,CheckedOnFleetModification">Property(Context,AntiVisionStrengthForModule) ge 1</InterpreterPrerequisite>
      <PathPrerequisite Inverted="true"  Flags="MotherShipAttached">FleetActionMothershipAttached</PathPrerequisite>
      <PathPrerequisite Inverted="true"  Flags="Prerequisite,ActionInProgress,CheckedOnFleetSpawn">InvisibilityFleetAction</PathPrerequisite>
      <PathPrerequisite Inverted="true"  Flags="EncounterInProgress">FleetActionAttack</PathPrerequisite>
      <PathPrerequisite Inverted="true"  Flags="FleetIsBusy">FleetActionLogistics</PathPrerequisite>
      <PathPrerequisite Inverted="true"  Flags="FleetIsBusy">FleetActionRooting</PathPrerequisite>
      <PathPrerequisite Inverted="true"  Flags="IsCollectingRelics">FleetActionCollectingRelics</PathPrerequisite>
      <PathPrerequisite Inverted="true"  Flags="Prerequisite,CannotCloakPlanetCracker,CheckedOnFleetModification">ClassGarrisonFleet//ClassModuleDestruction</PathPrerequisite>
    </EntityPrerequisites>

    <EntityModifiers Location="Self">
      <SimulationAlteration DescriptorReference="InvisibilityFleetAction"/>
    </EntityModifiers>

    <!-- Suspendable descriptors are removed on attack, and restored afterwards -->
    <SuspendableDescriptor Name="InvisibilityFleetActionAddAntivision"/>

  </InvisibilityFleetAction>

  <!-- Nakalim Collect Relics -->
  <CollectRelicsFleetAction Name="CollectRelicsFleetAction" Flags="CancelOnMovement" Duration="3">
    <EntityPrerequisites Location="Self">
      <PathPrerequisite Flags="Discard,MustBeTemplar" Inverted="false">../ClassEmpire,AffinityTemplars</PathPrerequisite>
    </EntityPrerequisites>

    <EntityModifiers Location="Self">
      <SimulationAlteration DescriptorReference="FleetActionBusy"/>
      <SimulationAlteration DescriptorReference="FleetActionCollectingRelics"/>
    </EntityModifiers>

    <EntityModifiers Filter="SameEmpire" Location="OrbitEntities">
      <SimulationAlteration DescriptorReference="OwnFleetCollectingRelics"/>
    </EntityModifiers>

    <CancelActions Flags="CancelOnAnything" SameContext="false" SameInitiator="true"/>

  </CollectRelicsFleetAction>
	
	<!-- Privateering -->
	<PrivateerFleetAction Name="PrivateerFleetAction">

		<!-- Prerequisites with Flag 'CheckOnFleetCreation' are checked when ships from a privateers fleet are moved to a new fleet. -->
		<EntityPrerequisites Location="Self">
			<!-- Hide when the fleet contains no mercenary -->
			<PathPrerequisite Inverted="false" Flags="Prerequisite,Discard,CheckOnFleetCreation">ClassGarrisonFleet/ClassShip,MercenaryShip</PathPrerequisite>
			<!-- Disable when the fleet has a hero -->
			<PathPrerequisite Inverted="true" Flags="Prerequisite,NoHeroesForPrivateers,CheckOnFleetCreation">ClassGarrisonFleet/ClassHero</PathPrerequisite>
			<!-- Disable when the fleet doesn't contain 100% mercenaries or contains a civilian ship -->
			<PathPrerequisite Inverted="true" Flags="Prerequisite,NotAllShipsAreMercenaries,CheckOnFleetCreation">ClassGarrisonFleet/ClassShip,!MercenaryShip</PathPrerequisite>
			<PathPrerequisite Inverted="true" Flags="Prerequisite,CivilianShipsCannotCamouflage,CheckOnFleetCreation">ClassGarrisonFleet/ClassShip,ShipRoleColonizer</PathPrerequisite>
			<!-- Disable when not in owner influence -->
			<PathPrerequisite Inverted="false" Flags="Prerequisite,FleetNotInFriendlyOrbit">FleetInfluenceStateOwner</PathPrerequisite>
		</EntityPrerequisites>

		<EntityModifiers Location="Self">
			<SimulationAlteration DescriptorReference="FleetActionPrivateer" />
			<SimulationAlteration DescriptorReference="FleetActionPrivateerUpkeep" />
		</EntityModifiers>

		<PathPrerequisite Flags="Discard" Inverted="true">../ClassEmpire,FactionTraitCorsairs</PathPrerequisite>
		<PathPrerequisite Flags="Discard" Inverted="true">../ClassEmpire,AffinityGameplayMajorHisshos</PathPrerequisite>
		<TechnologyPrerequisite Flags="Prerequisite,Technology,Discard" UnlockHidden="true">TechnologyPrivateers</TechnologyPrerequisite>
	</PrivateerFleetAction>

	<PrivateerFleetAction Name="PrivateerQuestFleetAction">

		<!-- Prerequisites with Flag 'CheckOnFleetCreation' are checked when ships from a privateers fleet are moved to a new fleet. -->
		<EntityPrerequisites Location="Self">
			<!-- Hide when the fleet contains no mercenary -->
			<PathPrerequisite Inverted="false" Flags="Prerequisite,Discard,CheckOnFleetCreation">ClassGarrisonFleet/ClassShip,CanPrivateer</PathPrerequisite>
			<!-- Disable when the fleet has a hero -->
			<PathPrerequisite Inverted="true" Flags="Prerequisite,NoHeroesForPrivateers,CheckOnFleetCreation">ClassGarrisonFleet/ClassHero</PathPrerequisite>
			<!-- Disable when the fleet doesn't contain 100% mercenaries or contains a civilian ship -->
			<PathPrerequisite Inverted="true" Flags="Prerequisite,NotAllShipsAreMercenaries,CheckOnFleetCreation">ClassGarrisonFleet/ClassShip,!CanPrivateer</PathPrerequisite>
			<PathPrerequisite Inverted="true" Flags="Prerequisite,CivilianShipsCannotCamouflage,CheckOnFleetCreation">ClassGarrisonFleet/ClassShip,ShipRoleColonizer</PathPrerequisite>
			<!-- Disable when not in owner influence -->
			<PathPrerequisite Inverted="false" Flags="Prerequisite,FleetNotInFriendlyOrbit">FleetInfluenceStateOwner</PathPrerequisite>
		</EntityPrerequisites>

		<EntityModifiers Location="Self">
			<SimulationAlteration DescriptorReference="FleetActionPrivateer" />
			<SimulationAlteration DescriptorReference="FleetActionPrivateerUpkeep" />
		</EntityModifiers>

		<PathPrerequisite Flags="Discard" Inverted="true">../ClassEmpire,FactionTraitCorsairs</PathPrerequisite>
		<PathPrerequisite Flags="Discard" Inverted="true">../ClassEmpire,AffinityGameplayMajorHisshos</PathPrerequisite>
		<TechnologyPrerequisite Flags="Prerequisite,Technology,Discard" UnlockHidden="true">TechnologyPrivateers</TechnologyPrerequisite>
	</PrivateerFleetAction>

  <!--  Add flat growth on outpost (Lumeris) -->
  <OutpostActionDefinition Name="OutpostActionIncreaseMigrationRateVenetians" Duration="10">
    <EntityPrerequisites Location="Self">
      <PathPrerequisite Flags="Prerequisite,SystemIsBeingGuarded" Inverted="true">BlockadedColonizedStarSystem</PathPrerequisite>
      <PathPrerequisite Flags="Prerequisite,SystemIsBeingDecolonized" Inverted="true">DecolonizedColonizedStarSystem</PathPrerequisite>
      <PathPrerequisite Flags="Prerequisite" Inverted="true">OutpostActionIncreaseMigrationRateVenetians</PathPrerequisite>
    </EntityPrerequisites>
    <EntityModifiers Location="Self">
      <SimulationAlteration DescriptorReference="OutpostActionIncreaseMigrationRateVenetiansEffect"/>
    </EntityModifiers>
    <CustomCost Instant="true" ResourceName="EmpireEmpirePoint">25 + 25 * (Property(StockLocation, @../ClassEmpire, SystemCount) - 1)</CustomCost>
    <PathPrerequisite Inverted="false" Flags="Prerequisite,Discard,Faction,AffinityGameplayVenetians">../ClassEmpire,AffinityGameplayVenetians</PathPrerequisite>
  </OutpostActionDefinition>

  <!--  Remove Lumeris from regular outpost boosting action -->
  <OutpostActionDefinition Name="OutpostActionIncreaseMigrationRate" Duration="10" RequiresMigrationFlux="true">
    <EntityPrerequisites Location="Self">
      <PathPrerequisite Flags="Prerequisite,SystemIsBeingGuarded" Inverted="true">BlockadedColonizedStarSystem</PathPrerequisite>
      <PathPrerequisite Flags="Prerequisite,SystemIsBeingDecolonized" Inverted="true">DecolonizedColonizedStarSystem</PathPrerequisite>
      <PathPrerequisite Flags="Prerequisite" Inverted="true">OutpostActionIncreaseMigrationRate</PathPrerequisite>
    </EntityPrerequisites>
    <EntityModifiers Location="Self">
      <SimulationAlteration DescriptorReference="OutpostActionIncreaseMigrationRate"/>
    </EntityModifiers>
    <CustomCost Instant="true" ResourceName="EmpireEmpirePoint">25 + 50 * Property(StockLocation, @../ClassEmpire, SystemCount)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,Discard" Inverted="true">../ClassEmpire/PopulationMajor,ClassPopulationEmpireAffinityTimeLords</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,Discard" Inverted="true">../ClassEmpire,AffinityGameplayMajorHisshos</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,Discard" Inverted="true">../ClassEmpire,AffinityGameplayVenetians</PathPrerequisite>
    <PathPrerequisite Inverted="true" Flags="Prerequisite,Discard,Faction,AffinityGameplayVenetians">../ClassEmpire,AffinityGameplayVenetians</PathPrerequisite>
    <MigrationFluxSimulationDescriptorReference Name="OutpostActionIncreaseMigrationRateEffect"/>
  </OutpostActionDefinition>

  <!-- Vampirilis Brainwash -->
    <CreateAllianceEmpireAction Name="CreateAllianceEmpireAction" ResultingDiplomaticRelationState="DiplomaticRelationStateMinorAdvancedBrainwashed">
        <CustomCost ResourceName="EmpireEmpirePoint" Instant="true">Property(StockLocation,@ClassEmpire,DiplomacyCostReduction) * 200 * Property(StockLocation,@ClassEmpire,PeacefulTreatyCostReduction) * Max(Property(StockLocation,@ClassEmpire,SystemCount), 1)</CustomCost>

        <PathPrerequisite Flags="Prerequisite,Discard" >ClassEmpire,AffinityGameplayVampirilis</PathPrerequisite>
        <PathPrerequisite Flags="Prerequisite,FactionTraitEternalWar" Inverted="true">ClassEmpire,FactionTraitEternalWar/ClassSenate/ClassSenator,Politics06</PathPrerequisite>
        <TechnologyPrerequisite Flags="Technology" UnlockHidden="true">TechnologyMinorFactionsGameplay</TechnologyPrerequisite>

        <StatePrerequisite Inverted="true" Flags="Prerequisite,Discard" Hidden="true" State="DiplomaticRelationStateMinorUnknown"/>
        <StatePrerequisite Inverted="true" Flags="Prerequisite,Discard" Hidden="true" State="DiplomaticRelationStateMinorAdvancedBrainwashed"/>
        <StatePrerequisite Inverted="true" Flags="Prerequisite,CannotDoThisWhenAtWar" Hidden="true" State="DiplomaticRelationStateMinorAdvancedWar"/>

        <RelationInterpreterPrerequisite Flags="Prerequisite,Discard">Property(Context, @'ClassMinorRelationWithMajor', RelationPoint, true) ge 100 </RelationInterpreterPrerequisite>

        <MinorEmpireInterpreterPrerequisite Flags="OwnershipType">$(OwnershipType) lt 2 and $(IsOwner) eq 1</MinorEmpireInterpreterPrerequisite>
        <PopulationEventOnSelf>PopulationPoliticalEventMinorBrainWash</PopulationEventOnSelf>
        <ScoreProviderEventOnSelf>MinorEmpirePeaceDeclared</ScoreProviderEventOnSelf>
    </CreateAllianceEmpireAction>

    <!-- Assimilate -->
    <AssimilateEmpireAction Name="AssimilateEmpireAction">
        <CustomCost ResourceName="EmpireEmpirePoint" Instant="true">Property(StockLocation,@ClassEmpire,DiplomacyCostReduction) * 200 * Property(StockLocation,@ClassEmpire,PeacefulTreatyCostReduction) * Max(Property(StockLocation,@ClassEmpire,SystemCount), 1)</CustomCost>

        <PathPrerequisite Flags="Prerequisite,Discard" Inverted="true">ClassEmpire,AffinityGameplayVampirilis</PathPrerequisite>
        <PathPrerequisite Flags="Prerequisite,Discard" Inverted="true">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
        <PathPrerequisite Flags="Prerequisite,Discard" Inverted="true">ClassEmpire,AffinityGameplayUmbralChoir</PathPrerequisite>
        <PathPrerequisite Flags="Prerequisite,FactionTraitEternalWar" Inverted="true">ClassEmpire,FactionTraitEternalWar/ClassSenate/ClassSenator,Politics06</PathPrerequisite>
        <TechnologyPrerequisite Flags="Technology" UnlockHidden="true">TechnologyMinorFactionsGameplay</TechnologyPrerequisite>

        <StatePrerequisite Inverted="true" Flags="Prerequisite,Discard" Hidden="true" State="DiplomaticRelationStateMinorUnknown"/>
        <StatePrerequisite Inverted="true" Flags="Prerequisite,Discard" Hidden="true" State="DiplomaticRelationStateMinorAdvancedBrainwashed"/>
        <StatePrerequisite Inverted="true" Flags="Prerequisite,CannotDoThisWhenAtWar" Hidden="true" State="DiplomaticRelationStateMinorAdvancedWar"/>

        <RelationInterpreterPrerequisite Flags="Prerequisite,Discard">Property(Context, @'ClassMinorRelationWithMajor', RelationPoint, true) ge 100</RelationInterpreterPrerequisite>

        <MinorEmpireInterpreterPrerequisite Flags="OwnershipType">$(OwnershipType) lt 2 and $(IsOwner) eq 1</MinorEmpireInterpreterPrerequisite>
        <PopulationEventOnSelf>PopulationPoliticalEventMinorEmpireAssimilated</PopulationEventOnSelf>
        <ScoreProviderEventOnSelf>MinorEmpireAssimilated</ScoreProviderEventOnSelf>
    </AssimilateEmpireAction>

    <AssimilateEmpireAction Name="AssimilateUnfallenEmpireAction">
        <CustomCost ResourceName="EmpireEmpirePoint" Instant="true">Property(StockLocation,@ClassEmpire,DiplomacyCostReduction) * 200 * Property(StockLocation,@ClassEmpire,PeacefulTreatyCostReduction) * Max(Property(StockLocation,@ClassEmpire,SystemCount), 1)</CustomCost>

        <PathPrerequisite Flags="Prerequisite,Discard">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
        <PathPrerequisite Flags="Prerequisite,FactionTraitEternalWar" Inverted="true">ClassEmpire,FactionTraitEternalWar/ClassSenate/ClassSenator,Politics06</PathPrerequisite>
        <TechnologyPrerequisite Flags="Technology" UnlockHidden="true">TechnologyMinorFactionsGameplay</TechnologyPrerequisite>

        <StatePrerequisite Inverted="true" Flags="Prerequisite,Discard" Hidden="true" State="DiplomaticRelationStateMinorUnknown"/>
        <StatePrerequisite Inverted="true" Flags="Prerequisite,CannotDoThisWhenAtWar" Hidden="true" State="DiplomaticRelationStateMinorAdvancedWar"/>

        <RelationInterpreterPrerequisite Flags="Prerequisite,Discard">Property(Context, @'ClassMinorRelationWithMajor', RelationPoint, true) ge 100 </RelationInterpreterPrerequisite>
        <RelationInterpreterPrerequisite Flags="Prerequisite,NotConnectedToRootNetwork">Path(Context,@'ClassMinorRelationWithMajor,MinorRelationUnderInfluence')</RelationInterpreterPrerequisite>

        <MinorEmpireInterpreterPrerequisite Flags="OwnershipType">$(OwnershipType) lt 2 or $(IsOwner) eq 1</MinorEmpireInterpreterPrerequisite>
        <PopulationEventOnSelf>PopulationPoliticalEventMinorEmpireAssimilated</PopulationEventOnSelf>
        <ScoreProviderEventOnSelf>MinorEmpireAssimilated</ScoreProviderEventOnSelf>
    </AssimilateEmpireAction>

    <!-- Minor empire actions. -->
    <GhostifyEmpireAction Name="GhostifyEmpireAction" HidePanelOnClick="true">
        <CustomCost ResourceName="EmpireEmpirePoint" Instant="true">Property(StockLocation,@ClassEmpire,DiplomacyCostReduction) * 200 * Property(StockLocation,@ClassEmpire,PeacefulTreatyCostReduction) * Property(StockLocation,@ClassEmpire,SystemCount)</CustomCost>

        <PathPrerequisite Flags="Prerequisite,Disable,FactionTraitEternalWar" Inverted="true">ClassEmpire,FactionTraitEternalWar/ClassSenate/ClassSenator,Politics06</PathPrerequisite>

        <TechnologyPrerequisite Flags="Technology" UnlockHidden="true">TechnologyMinorFactionsGameplay</TechnologyPrerequisite>

        <StatePrerequisite Inverted="true" Flags="Prerequisite,Discard" Hidden="true" State="DiplomaticRelationStateMinorUnknown"/>
        <StatePrerequisite Inverted="true" Flags="Prerequisite,Discard" Hidden="true" State="DiplomaticRelationStateMinorAdvancedBrainwashed"/>
        <StatePrerequisite Inverted="true" Flags="Prerequisite,Disable,CannotDoThisWhenAtWar" Hidden="true" State="DiplomaticRelationStateMinorAdvancedWar"/>

        <RelationInterpreterPrerequisite Flags="Prerequisite,Discard">Property(Context, @'ClassMinorRelationWithMajor', RelationPoint, true) ge 100</RelationInterpreterPrerequisite>

        <MinorEmpireInterpreterPrerequisite Flags="Disable,OwnershipType">$(OwnershipType) lt 2 and $(IsOwner) eq 1</MinorEmpireInterpreterPrerequisite>
        <PopulationEventOnSelf>PopulationPoliticalEventMinorEmpirePurge</PopulationEventOnSelf>
        <ScoreProviderEventOnSelf>MinorEmpireAssimilated</ScoreProviderEventOnSelf>
    </GhostifyEmpireAction>

    <GhostifyEmpireAction Name="GhostifyEmpireActionViaQuest" HidePanelOnClick="true">
        <InterpreterPrerequisite Flags="PrerequisiteWhichCanOnlyFailExceptIfStartedViaTheQuestsSpecialOrder">false</InterpreterPrerequisite>
    </GhostifyEmpireAction>

    <!--Fleet spawning minor-->
    <EmpireDiplomaticGivePopulationAsShipAction Name="EmpireDiplomaticGivePopulationAsShipAction" HidePanelOnClick="true" PopulationCount="3" FleetCount="1">
        <MinorLuxuryCost Instant="true">25 * Property(StockLocation,@ClassEmpire,DiplomacyCostReduction)</MinorLuxuryCost>
        
        <StatePrerequisite Inverted="true" Flags="Prerequisite,Discard" Hidden="true" State="DiplomaticRelationStateMinorUnknown"/>
        <RelationPathPrerequisite Inverted="false" Flags="Prerequisite,Discard">ClassMinorRelationWithMajor,RelationIdeologyMinorWarmonger</RelationPathPrerequisite>
        
        <MinorEmpireInterpreterPrerequisite Flags="Prerequisite,RequiredBestRelation">$(OwnershipType) ge 1 and $(IsOwner) eq 1</MinorEmpireInterpreterPrerequisite>
        <MinorEmpireInterpreterPrerequisite Flags="NoPopulationOnSystem">Property(Context, @'ClassEmpire/ClassColonizedStarSystem,MinorHomeSystem',Population,true) gt 3</MinorEmpireInterpreterPrerequisite>
        
        <PopulationEventOnSelf>PopulationPoliticalEventMinorRecruitShips</PopulationEventOnSelf>
    </EmpireDiplomaticGivePopulationAsShipAction>

    <!-- Praise -->
    <EmpireDiplomaticActionDynamicCost Name="ComplimentEmpireAction">
        <CustomCost ResourceName="EmpireEmpirePoint" Instant="true">((10 + Max(0, $(Trend)) * 30) * Property(Relation,MinorPraiseCostMultiplier) * Property(StockLocation,@ClassEmpire,PeacefulTreatyCostReduction) * Property(StockLocation,@ClassEmpire,DiplomacyCostReduction)) * Property(StockLocation,@ClassEmpire,MinorFactionCostReduction)</CustomCost>
        
        <PathPrerequisite Flags="Prerequisite,Discard" Inverted="true">ClassEmpire,AffinityGameplayVenetians</PathPrerequisite>
        <PathPrerequisite Flags="Prerequisite,FactionTraitEternalWar" Inverted="true">ClassEmpire,FactionTraitEternalWar/ClassSenate/ClassSenator,Politics06</PathPrerequisite>
        <TechnologyPrerequisite Flags="Technology" UnlockHidden="true">TechnologyMinorFactionsGameplay</TechnologyPrerequisite>
        
        <StatePrerequisite Inverted="true" Flags="Prerequisite,Discard" Hidden="true" State="DiplomaticRelationStateMinorUnknown"/>
        <StatePrerequisite Inverted="true" Flags="Prerequisite,Discard" Hidden="true" State="DiplomaticRelationStateMinorAdvancedBrainwashed"/>
        <StatePrerequisite Inverted="true" Flags="Prerequisite,CannotDoThisWhenAtWar" Hidden="true" State="DiplomaticRelationStateMinorAdvancedWar"/>
        
        <RelationInterpreterPrerequisite Flags="Prerequisite,Discard">Property(Context, @'ClassMinorRelationWithMajor', RelationPoint, true) lt 100 </RelationInterpreterPrerequisite>
        <RelationPathPrerequisite Inverted="true" Flags="IsLeeched">ClassMinorRelationWithMajor,MinorRelationLeeched</RelationPathPrerequisite>
        
        <PopulationEventOnSelf>PopulationPoliticalEventMinorEmpirePraised</PopulationEventOnSelf>
        <ScoreProviderEventOnSelf>MinorEmpireBribed</ScoreProviderEventOnSelf>
        <TemporaryEffect>MinorRelationWithMajorPraise</TemporaryEffect>
    </EmpireDiplomaticActionDynamicCost>

    <!-- Lumeris Bribe -->
    <EmpireDiplomaticActionDynamicCost Name="BribeEmpireAction">
        <CustomCost ResourceName="EmpireMoney" Instant="true">((25 + Max(0, $(Trend)) * 50) * Property(Relation,MinorPraiseCostMultiplier) * Property(StockLocation,@ClassEmpire,PeacefulTreatyCostReduction) * Property(StockLocation,@ClassEmpire,DiplomacyCostReduction)) * Property(StockLocation,@ClassEmpire,MinorFactionCostReduction)</CustomCost>
        
        <PathPrerequisite Flags="Prerequisite,Discard" >ClassEmpire,AffinityGameplayVenetians</PathPrerequisite>
        <PathPrerequisite Flags="Prerequisite,FactionTraitEternalWar" Inverted="true">ClassEmpire,FactionTraitEternalWar/ClassSenate/ClassSenator,Politics06</PathPrerequisite>
        <TechnologyPrerequisite Flags="Technology" UnlockHidden="true">TechnologyMinorFactionsGameplay</TechnologyPrerequisite>
        
        <StatePrerequisite Inverted="true" Flags="Prerequisite,Discard" Hidden="true" State="DiplomaticRelationStateMinorUnknown"/>
        <StatePrerequisite Inverted="true" Flags="Prerequisite,CannotDoThisWhenAtWar" Hidden="true" State="DiplomaticRelationStateMinorAdvancedWar"/>
        <StatePrerequisite Inverted="true" Flags="Prerequisite,Discard" Hidden="true" State="DiplomaticRelationStateMinorAdvancedBrainwashed"/>
        
        <RelationInterpreterPrerequisite Flags="Prerequisite,Discard">Property(Context, @'ClassMinorRelationWithMajor', RelationPoint, true) lt 100 </RelationInterpreterPrerequisite>
        <RelationPathPrerequisite Inverted="true" Flags="IsLeeched">ClassMinorRelationWithMajor,MinorRelationLeeched</RelationPathPrerequisite>
        
        <PopulationEventOnSelf>PopulationPoliticalEventMinorEmpireBribed</PopulationEventOnSelf>
        <ScoreProviderEventOnSelf>MinorEmpireBribed</ScoreProviderEventOnSelf>

        <TemporaryEffect>MinorRelationWithMajorBribe</TemporaryEffect>
    </EmpireDiplomaticActionDynamicCost>

</Datatable>