<?xml version="1.0" encoding="utf-8" ?>
<Datatable xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xsi:noNamespaceSchemaLocation="../Schemas/ScienceConstructibleElement.xsd">
  <!-- Not an actual tech, just a prerequisite for things that should be disabled -->
  <TechnologyDefinition Name="TechnologyDefinitionUnlockable" Category="CategoryTechnologyQuest" Visibility="Hidden">
    <CustomCost ResourceName="EmpireResearch">0</CustomCost>
    <PathPrerequisite Flags="DiplomaticTradable">false</PathPrerequisite>
  </TechnologyDefinition>
  <!-- Terraformation 1 -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration9" TechnologyStage="TechnologyStageDefinitionScienceAndExploration3" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration5To9'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayVampirilis</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyColonization8"/>
    <SimulationDescriptorReference Name="TechnologyLinkColonization8Common"/>
    <SimulationDescriptorReference Name="TechnologyCuriosityLevel2"/>
    <SimulationDescriptorReference Name="TechnologyTerraformation1"/>
    <SimulationDescriptorReference Name="TechnologyTerraformation1TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology"/>

    <HelperVariable Name="AvailableDesertPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>$(AvailableDesertPlanets) *  1.5+ $(TurnVariable) * 20</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration9Unfallen" TechnologyStage="TechnologyStageDefinitionScienceAndExploration3" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration5To9'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyUnfallen" Inverted="false">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyColonization8Unfallen"/>
    <SimulationDescriptorReference Name="TechnologyCuriosityLevel2"/>
    <SimulationDescriptorReference Name="TechnologyTerraformation1"/>
    <SimulationDescriptorReference Name="TechnologyTerraformation1TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology"/>

    <HelperVariable Name="AvailableDesertPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>$(AvailableDesertPlanets) *  1.5+ $(TurnVariable) * 20</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration9TimeLords" TechnologyStage="TechnologyStageDefinitionScienceAndExploration3" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration5To9'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyTimeLords" Inverted="false">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyTerraformation1TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyTerraformation1"/>
    <SimulationDescriptorReference Name="TechnologyCuriosityLevel2"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology"/>

    <HelperVariable Name="AvailableMixedAnomaly"/>
    <HelperVariable Name="FoodPopulation"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>25 * $(TurnVariable) + 10 * $(FoodPopulation) + 10 * $(AvailableMixedAnomaly) </HelperFormula>
  </TechnologyDefinition>
  
  <!-- Terraformation 2 -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration31TimeLords" TechnologyStage="TechnologyStageDefinitionScienceAndExploration4" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyTimeLords" Inverted="false">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyTerraformation2TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyTerraformation2"/>
    <SimulationDescriptorReference Name="TechnologyScience6"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>

    <HelperVariable Name="SciencePopulation"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>20 * $(TurnVariable) + $(SciencePopulation) * 10</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration31" TechnologyStage="TechnologyStageDefinitionScienceAndExploration4" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayVampirilis</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyTerraformation2"/>
    <SimulationDescriptorReference Name="TechnologyTerraformation2TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyScience6"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>

    <HelperVariable Name="SciencePopulation"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>20 * $(TurnVariable) + $(SciencePopulation) * 10</HelperFormula>
  </TechnologyDefinition>

  <!-- Remove Expanded Explorer Slots from T4 food tech -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration17" TechnologyStage="TechnologyStageDefinitionScienceAndExploration4" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration9To15'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayVampirilis</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyFood6"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>
    <HelperVariable Name="FoodPercent"/>
    <HelperVariable Name="OwnedPlanetsCount"/>
    <HelperVariable Name="FoodVariable"/>
    <HelperFormula> $(FoodPercent) * 10 + $(FoodVariable) * $(OwnedPlanetsCount) </HelperFormula>
  </TechnologyDefinition>

	<TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration17Vampirilis" TechnologyStage="TechnologyStageDefinitionScienceAndExploration4" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
		<CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration9To15'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
		<PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyVampirilis" Inverted="false">ClassEmpire,AffinityGameplayVampirilis</PathPrerequisite>
		<SimulationDescriptorReference Name="TechnologyFood6"/>
		<SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage4"/>
		<SimulationDescriptorReference Name="TechnologyCounter"/>
		<PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

		<HelperVariable Name="FoodPercent"/>
		<HelperVariable Name="OwnedPlanetsCount"/>
		<HelperVariable Name="FoodVariable"/>
		<HelperVariable Name="TurnVariable"/>
		<HelperFormula>20 * $(TurnVariable) + $(FoodPercent) * 10 + $(FoodVariable) * $(OwnedPlanetsCount) </HelperFormula>
	</TechnologyDefinition>

	<!-- Add Expanded Explorer Slots to Machine Bacteria -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration25" TechnologyStage="TechnologyStageDefinitionScienceAndExploration2" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage2Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration1To25'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyColonization3"/>
    <SimulationDescriptorReference Name="TechnologyColonization3Vaulters"/>
    <SimulationDescriptorReference Name="TechnologyColonization3VaultersNoPortals"/>
    <SimulationDescriptorReference Name="TechnologyColonization3VaultersNoVaultersPopulation"/>
    <SimulationDescriptorReference Name="TechnologyExplorationModule1"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage2"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullSophons"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullCravers"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullMajorHisshos"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullLumeris"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullUnitedEmpire"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullHoratios"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullUmbralChoir"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullVaulters"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullTemplars"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullVampirilis"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullTimeLords"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullUnfallens"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>
    <HelperVariable Name="AvailableSteppesPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>$(AvailableSteppesPlanets) * 1 + $(TurnVariable) * 40</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration25TimeLords" TechnologyStage="TechnologyStageDefinitionScienceAndExploration2" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage2Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration1To25'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyTimeLords" Inverted="false">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyColonization3TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyExplorationModule1"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage2"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullSophons"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullCravers"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullMajorHisshos"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullLumeris"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullUnitedEmpire"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullHoratios"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullUmbralChoir"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullVaulters"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullTemplars"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullVampirilis"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullTimeLords"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullUnfallens"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>
    <HelperVariable Name="AvailableSteppesPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>$(AvailableSteppesPlanets) * 1 + $(TurnVariable) * 40</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration25Unfallen" TechnologyStage="TechnologyStageDefinitionScienceAndExploration2" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage2Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration1To25'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyUnfallen" Inverted="false">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyColonization3Unfallen"/>
    <SimulationDescriptorReference Name="TechnologyExplorationModule1"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage2"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullSophons"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullCravers"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullMajorHisshos"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullLumeris"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullUnitedEmpire"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullHoratios"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullUmbralChoir"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullVaulters"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullTemplars"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullVampirilis"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullTimeLords"/>
		<SimulationDescriptorReference Name="TechnologyImproveExplorerHullUnfallens"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>
    <HelperVariable Name="AvailableSteppesPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>$(AvailableSteppesPlanets) * 1 + $(TurnVariable) * 40</HelperFormula>
  </TechnologyDefinition>

  <!-- Add Innate T1 Cloaking for Explorers to Vaccuum Protection -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration26" TechnologyStage="TechnologyStageDefinitionScienceAndExploration3" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityMappingTimeLords</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityMappingUmbralChoir</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologySupportModule1"/>
    <SimulationDescriptorReference Name="TechnologySupportModule1Common"/>
    <SimulationDescriptorReference Name="TechnologyInnateExplorerCloaking"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>25 * $(TurnVariable)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration26TimeLords" TechnologyStage="TechnologyStageDefinitionScienceAndExploration3" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityTimeLords" Inverted="false">ClassEmpire,AffinityMappingTimeLords</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologySupportModule1"/>
    <SimulationDescriptorReference Name="TechnologySupportModule1TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyInnateExplorerCloaking"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>35 * $(TurnVariable)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration26UmbralChoir" TechnologyStage="TechnologyStageDefinitionScienceAndExploration3" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityUmbralChoir" Inverted="false">ClassEmpire,AffinityMappingUmbralChoir</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologySupportModule1"/>
    <SimulationDescriptorReference Name="TechnologySupportModule1Common"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>25 * $(TurnVariable)</HelperFormula>
  </TechnologyDefinition>

  <!-- Shield Regen -->
  <TechnologyDefinition Name="TechnologyDefinitionCuriosityModuleSupportShieldRegenerate2Strategic6"  TechnologyStage="TechnologyStageDefinitionScienceAndExploration1"    Visibility="Hidden" >
    <PathPrerequisite Flags="DiplomaticTradable">false</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyCuriosityModuleSupportShieldRegenerate2Strategic6"/>
  </TechnologyDefinition>
	
	<!-- Buyouts -->
	<TechnologyDefinition Name="TechnologyDefinitionEconomyAndTrade4" TechnologyStage="TechnologyStageDefinitionEconomyAndTrade2" Category="CategoryTechnologyEconomyAndTrade" ScoreProvider="TechnologyUnlocked">
		<Tags>BuyoutUnlock</Tags>
		<CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage2Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEconomyAndTradeMultiplier)</CustomCost>
		<PathPrerequisite Flags="Prerequisite,Discard,DiplomaticTradable" Inverted="true">AffinityGameplayTimeLords</PathPrerequisite>
		<PathPrerequisite Flags="Prerequisite,Discard,DiplomaticTradable" Inverted="true">AffinityGameplayVenetians</PathPrerequisite>
		<SimulationDescriptorReference Name="TechnologyUniqueDust1"/>
		<SimulationDescriptorReference Name="TechnologyBuyout"/>
		<SimulationDescriptorReference Name="TechnologyCountEconomyAndTradeIncreaseStage2"/>
		<SimulationDescriptorReference Name="TechnologyCounter"/>
		<PopulationEvent Name="PopulationPoliticalEventPacifistTechnology"/>

		<HelperVariable Name="TotalSystems"/>
		<HelperVariable Name="SumSystemLevels"/>
		<HelperVariable Name="ForeignPopulations"/>
		<HelperVariable Name="DustVariable"/>
		<HelperVariable Name="TurnVariable"/>
		<HelperFormula>$(TurnVariable) * 10 +  (3 * $(ForeignPopulations) * $(DustVariable) + $(SumSystemLevels) * 5) / Max($(TotalSystems),1)</HelperFormula>
	</TechnologyDefinition>

	<TechnologyDefinition Name="TechnologyDefinitionEconomyAndTrade4Venetians" TechnologyStage="TechnologyStageDefinitionEconomyAndTrade2" Category="CategoryTechnologyEconomyAndTrade" ScoreProvider="TechnologyUnlocked">
		<Tags>BuyoutUnlock</Tags>
		<CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage2Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEconomyAndTradeMultiplier)</CustomCost>
		<PathPrerequisite Flags="Prerequisite,Discard,DiplomaticTradable,Faction,AffinityVenetians">AffinityGameplayVenetians</PathPrerequisite>
		<SimulationDescriptorReference Name="TechnologyUniqueDust1"/>
		<SimulationDescriptorReference Name="TechnologyBuyoutVenetians"/>
		<SimulationDescriptorReference Name="TechnologyCountEconomyAndTradeIncreaseStage2"/>
		<SimulationDescriptorReference Name="TechnologyCounter"/>
		<PopulationEvent Name="PopulationPoliticalEventPacifistTechnology"/>

		<HelperVariable Name="TotalSystems"/>
		<HelperVariable Name="SumSystemLevels"/>
		<HelperVariable Name="ForeignPopulations"/>
		<HelperVariable Name="DustVariable"/>
		<HelperVariable Name="TurnVariable"/>
		<HelperFormula>$(TurnVariable) * 10 +  (3 * $(ForeignPopulations) * $(DustVariable) + $(SumSystemLevels) * 5) / Max($(TotalSystems),1)</HelperFormula>
	</TechnologyDefinition>

	<TechnologyDefinition Name="TechnologyDefinitionEconomyAndTrade4TimeLords" TechnologyStage="TechnologyStageDefinitionEconomyAndTrade2" Category="CategoryTechnologyEconomyAndTrade" ScoreProvider="TechnologyUnlocked">
		<Tags>BuyoutUnlock</Tags>
		<CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage2Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEconomyAndTradeMultiplier)</CustomCost>
		<PathPrerequisite Flags="Prerequisite,Discard,DiplomaticTradable,Faction,AffinityTimeLords">AffinityGameplayTimeLords</PathPrerequisite>
		<SimulationDescriptorReference Name="TechnologyUniqueDust1TimeLords"/>
		<SimulationDescriptorReference Name="TechnologyBuyout"/>
		<SimulationDescriptorReference Name="TechnologyCountEconomyAndTradeIncreaseStage2"/>
		<SimulationDescriptorReference Name="TechnologyCounter"/>
		<PopulationEvent Name="PopulationPoliticalEventPacifistTechnology"/>

		<HelperVariable Name="TotalSystems"/>
		<HelperVariable Name="TurnVariable"/>
		<HelperVariable Name="SumSystemLevels"/>
		<HelperVariable Name="DustPopulation"/>
		<HelperFormula>$(TurnVariable) * 10 +  (1 * $(DustPopulation) + $(SumSystemLevels) * 5) / Max($(TotalSystems),1)</HelperFormula>
	</TechnologyDefinition>
  
  <!-- HyperPACs -->
  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment17" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment3" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment5To17')))</CustomCost>
    <InterpreterPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">Path(Context,@'AffinityMappingTerrans') or Path(Context,@'AffinityMappingSheredyn') or Path(Context,@'AffinityMappingMezari')</InterpreterPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayTemplars</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUnlockPropaganda"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacyAlliance"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacy2Common"  />
    <SimulationDescriptorReference Name="TechnologyElectionAction"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo17Common"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12Venetians"  />
    <SimulationDescriptorReference Name="TechnologyColonization10"/>
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage3"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

    <HelperVariable Name="HappinessVariable"/>
    <HelperVariable Name="AvailableSwampPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>10 * $(TurnVariable) * $(HappinessVariable) + 1 * $(AvailableSwampPlanets)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment17Unfallen" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment3" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment5To17')))</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyUnfallen" Inverted="false">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <InterpreterPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">Path(Context,@'AffinityMappingTerrans') or Path(Context,@'AffinityMappingSheredyn') or Path(Context,@'AffinityMappingMezari')</InterpreterPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUnlockPropaganda"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacyAlliance"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacy2Common"  />
    <SimulationDescriptorReference Name="TechnologyElectionAction"  />
    <SimulationDescriptorReference Name="TechnologyColonization10Unfallen"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo17Unfallen"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12VenetiansUnfallen"  />
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage3"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

    <HelperVariable Name="HappinessVariable"/>
    <HelperVariable Name="AvailableSwampPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>10 * $(TurnVariable) * $(HappinessVariable) + 1 * $(AvailableSwampPlanets)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment17TimeLords" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment3" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment5To17')))</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyTimeLords" Inverted="false">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <InterpreterPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">Path(Context,@'AffinityMappingTerrans') or Path(Context,@'AffinityMappingSheredyn') or Path(Context,@'AffinityMappingMezari')</InterpreterPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUnlockPropaganda"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacyAlliance"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacy2Common"  />
    <SimulationDescriptorReference Name="TechnologyElectionAction"  />
    <SimulationDescriptorReference Name="TechnologyColonization10TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo17TimeLords"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12VenetiansTimeLords"  />
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage3"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

    <HelperVariable Name="HappinessVariable"/>
    <HelperVariable Name="AvailableOceanPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>10 * $(TurnVariable) * $(HappinessVariable) + 1 * $(AvailableOceanPlanets)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment17Terrans" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment3" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment5To17')))</CustomCost>
    <InterpreterPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityTerrans" Inverted="false">Path(Context,@'AffinityMappingTerrans') or Path(Context,@'AffinityMappingSheredyn') or Path(Context,@'AffinityMappingMezari')</InterpreterPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUnlockPropaganda"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacyAlliance"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacy2Common"  />
    <SimulationDescriptorReference Name="TechnologyElectionAction"  />
    <SimulationDescriptorReference Name="TechnologyColonization10"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo17Terrans"  />
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage3"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

    <HelperVariable Name="HappinessVariable"/>
    <HelperVariable Name="AvailableSwampPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>15 * $(TurnVariable) * $(HappinessVariable) + 1 * $(AvailableSwampPlanets)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment17TerransUnfallen" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment3" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment5To17')))</CustomCost>
    <InterpreterPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityTerrans" Inverted="false">Path(Context,@'AffinityMappingTerrans') or Path(Context,@'AffinityMappingSheredyn') or Path(Context,@'AffinityMappingMezari')</InterpreterPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="false">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUnlockPropaganda"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacyAlliance"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacy2Common"  />
    <SimulationDescriptorReference Name="TechnologyElectionAction"  />
    <SimulationDescriptorReference Name="TechnologyColonization10Unfallen"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo17TerransUnfallen"/>
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage3"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

    <HelperVariable Name="HappinessVariable"/>
    <HelperVariable Name="AvailableSwampPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>15 * $(TurnVariable) * $(HappinessVariable) + 1 * $(AvailableSwampPlanets)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment17TerransTimeLords" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment3" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment5To17')))</CustomCost>
    <InterpreterPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityTerrans" Inverted="false">Path(Context,@'AffinityMappingTerrans') or Path(Context,@'AffinityMappingSheredyn') or Path(Context,@'AffinityMappingMezari')</InterpreterPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="false">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUnlockPropaganda"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacyAlliance"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacy2Common"  />
    <SimulationDescriptorReference Name="TechnologyElectionAction"  />
    <SimulationDescriptorReference Name="TechnologyColonization10TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo17TerransTimeLords"/>
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage3"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

    <HelperVariable Name="HappinessVariable"/>
    <HelperVariable Name="AvailableOceanPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>15 * $(TurnVariable) * $(HappinessVariable) + 1 * $(AvailableOceanPlanets)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment17Templars" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment3" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment5To17')))</CustomCost>
    <InterpreterPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">Path(Context,@'AffinityMappingTerrans') or Path(Context,@'AffinityMappingSheredyn') or Path(Context,@'AffinityMappingMezari')</InterpreterPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="false">ClassEmpire,AffinityGameplayTemplars</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUnlockPropaganda"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacyAlliance"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacy2Templars"  />
    <SimulationDescriptorReference Name="TechnologyElectionAction"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo17Common"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12Venetians"  />
    <SimulationDescriptorReference Name="TechnologyColonization10"/>
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage3"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

    <HelperVariable Name="HappinessVariable"/>
    <HelperVariable Name="AvailableSwampPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>10 * $(TurnVariable) * $(HappinessVariable) + 1 * $(AvailableSwampPlanets)</HelperFormula>
  </TechnologyDefinition>
  
  <!-- SLC -->
  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment9" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment4" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier)</CustomCost>
    <SimulationDescriptorReference Name="TechnologyUnlockPropaganda"  />
    <SimulationDescriptorReference Name="TechnologyInfluenceConversion"  />
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage4"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

    <HelperVariable Name="InfluenceVariable"/>
    <HelperFormula>30 * $(InfluenceVariable)</HelperFormula>
  </TechnologyDefinition>

  <!-- Reveal Strategics -->
  <TechnologyDefinition Name="TechnologyDefinitionRevealStrategics" Category="CategoryTechnologyQuest" Visibility="Hidden">
    <CustomCost ResourceName="EmpireResearch">0</CustomCost>
    <PathPrerequisite Flags="DiplomaticTradable">false</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyRevealStrategics2"/>
    <SimulationDescriptorReference Name="TechnologyRevealStrategics3"/>
  </TechnologyDefinition>

  <!-- Tech Stages (no change to T1, T2, and T5, only included for load order in GUI) -->
  <TechnologyStageDefinition Name="TechnologyStageDefinitionScienceAndExploration1" TechnologyQuadrant="TechnologyQuadrantScienceAndExploration" StageNumber="1">
    <SimulationDescriptorReference Name="TechnologyStageScienceAndExploration1"/>
  </TechnologyStageDefinition>

  <TechnologyStageDefinition Name="TechnologyStageDefinitionScienceAndExploration2" TechnologyQuadrant="TechnologyQuadrantScienceAndExploration" StageNumber="2">
    <SimulationDescriptorReference Name="TechnologyStageScienceAndExploration2"/>
    <UnlockCount UnlockCount="1" CountPropertyName="QuadrantScienceAndExplorationStage1UnlockedTechnologyCount"/>
  </TechnologyStageDefinition>

  <TechnologyStageDefinition Name="TechnologyStageDefinitionScienceAndExploration3" TechnologyQuadrant="TechnologyQuadrantScienceAndExploration" StageNumber="3">
    <SimulationDescriptorReference Name="TechnologyStageScienceAndExploration3"/>
    <SimulationDescriptorReference Name="TechnologyRevealStrategics2"/>
    <PopulationEvent Name="PopulationPoliticalEventUnlockStage"/>
    <UnlockCount UnlockCount="2" CountPropertyName="QuadrantScienceAndExplorationStage2UnlockedTechnologyCount">
      <AdditionalTechnologyUnlockCount Count="1">DLCHisshos</AdditionalTechnologyUnlockCount>
    </UnlockCount>
  </TechnologyStageDefinition>

  <TechnologyStageDefinition Name="TechnologyStageDefinitionScienceAndExploration4" TechnologyQuadrant="TechnologyQuadrantScienceAndExploration" StageNumber="4">
    <SimulationDescriptorReference Name="TechnologyStageScienceAndExploration4"/>
    <SimulationDescriptorReference Name="TechnologyRevealStrategics3"/>
    <PopulationEvent Name="PopulationPoliticalEventUnlockStage"/>
    <UnlockCount UnlockCount="3" CountPropertyName="QuadrantScienceAndExplorationStage3UnlockedTechnologyCount"/>
  </TechnologyStageDefinition>

  <TechnologyStageDefinition Name="TechnologyStageDefinitionScienceAndExploration5" TechnologyQuadrant="TechnologyQuadrantScienceAndExploration" StageNumber="5">
    <SimulationDescriptorReference Name="TechnologyStageScienceAndExploration5"/>
    <PopulationEvent Name="PopulationPoliticalEventUnlockStage"/>
    <UnlockCount UnlockCount="4" CountPropertyName="QuadrantScienceAndExplorationStage4UnlockedTechnologyCount"/>
  </TechnologyStageDefinition>
</Datatable>